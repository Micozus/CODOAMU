!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=function(e,t,n){var i=document.createElement(e);return i.innerHTML=t,void 0!==n&&i.setAttribute("class",n),i}},function(e,t,n){var i,o=n(0),r=document.getElementById("mainWrapper"),c=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),s=function(){i.classList.add("hide"),setTimeout((function(){return i.remove()}),300)},a=function(){var e=document.querySelector("#fridgeView .content"),t=o("section",'\n        <div class="inputButtons">\n            <button class="listen_button ctaBig">\n                <i class="material-icons">mic</i> Start listening\n            </button>\n            <button class="stop_listen_button ctaBig hide">\n                <i class="material-icons">mic_off</i>\n            </button>\n        </div>\n        <div class="ingredientsDesc">\n            <p>Say <b>let\'s cook</b> or click <b>let\'s cook button</b> if you want to look at recipes we prepared for you :)</p>\n        </div>\n        <div class="card__image"></div>\n        <section class="card__ingredients">\n            <h1>Your Ingredients: <span class="ingredientsCount"><b>0</b>/6</span></h1>\n            <div class="card__list">\n            </div>\n        </section>\n        <button class="letsCookButton ctaBig hide">\n            <i class="material-icons">sentiment_very_satisfied</i> &nbsp;Let\'s cook :) \n        </button>');t.id="micInputView",e.insertBefore(t,null);var i=document.getElementById("micInputView");setTimeout((function(){return i.classList.add("show")}),500),SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;var r=new SpeechRecognition;r.interimResults=!0,r.lang="en-US";var c=document.createElement("div");c.setAttribute("class","ingredientToBeAdded");var s=document.querySelector(".card__list"),a=[],d=document.querySelector(".listen_button"),l=document.querySelector("#mainWrapper .fridge"),u=document.querySelector(".stop_listen_button"),m=document.querySelector(".content .ingredientsCount"),v=document.querySelector("#micInputView .letsCookButton");v.addEventListener("click",(function(){return h()}));d.addEventListener("click",(function(){d.classList.add("buttonBlock"),u.classList.remove("hide"),u.addEventListener("click",(function(){return g()})),r.addEventListener("result",f),r.addEventListener("end",r.start),r.start(),document.querySelector(".card__ingredients").insertBefore(c,s),setTimeout((function(){return c.classList.add("show")}),500)}));var p=function(e){a.push(e),m.innerHTML="<b>".concat(a.length,"</b> / 6"),a.length&&v.classList.remove("hide");var t='\n            <span class="mdl-chip__text">'.concat(e,'</span>\n            <button type="button" class="mdl-chip__action"><i class="material-icons">cancel</i></button>\n        '),n=o("span",t,["mdl-chip mdl-chip--deletable"]);n.lastElementChild.addEventListener("click",(function(e){return function(e){var t=e.target.parentElement.parentElement,n=a.indexOf(e.target.textContent);a.splice(n,1),s.removeChild(t),0!==a.length||v.classList.contains("hide")||v.classList.add("hide");var i=document.querySelector(".content .ingredientsCount");i.innerHTML="<b>".concat(a.length,"</b> / 6"),a.length<6&&i.classList.contains("pulsing")&&i.classList.remove("pulsing")}(e)})),s.appendChild(n),componentHandler.upgradeElement(n),6===a.length&&m.classList.add("pulsing"),setTimeout((function(){c.textContent="",c.classList.remove("inputBeingAdded")}),500)},f=function(e){c.classList.add("inputBeingAdded");var t=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");c.textContent=t,e.results[0].isFinal&&("let's cook"===t&&a.length>0?h():6===a.length?alert("Can't add more than 6 ingredients! Proceed to recipes or replace ingredients with another"):p(t))},h=function(){g(),setTimeout((function(){l.classList.add("hide"),e.classList.add("hide")}),400),setTimeout((function(){n(2)(a),l.remove(),e.remove()}),700)},g=function(){r.removeEventListener("end",r.start),r.removeEventListener("result",f),r.stop(),c.classList.add("hide"),d.classList.remove("buttonBlock"),u.classList.add("hide"),setTimeout((function(){return c.remove()}),500)}},d=function(){var e=document.querySelector("#fridgeView .content"),t=o("section",'\n        <div class="ingredientsDesc">\n            <p>Click <b>let\'s cook button</b> if you want to look at recipes we prepared for you :)</p>\n        </div>\n        <div class="card__image"></div>\n        <section class="card__ingredients">\n            <h1>Your Ingredients: <span class="ingredientsCount"><b>0</b>/6</span></h1>\n            <div class="ingredientTextField">\n            <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">\n                <input class="mdl-textfield__input" type="text" id="ingredientField">\n                <label class="mdl-textfield__label" for="ingredientField">New Ingredient</label>\n            </div>\n            <button class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">\n                <i class="material-icons">add</i>\n            </button>\n            </div>\n            <div class="card__list">\n            </div>\n        </section>\n        <button class="letsCookButton ctaBig hide">\n            <i class="material-icons">sentiment_very_satisfied</i> &nbsp;Let\'s cook :) \n        </button>');t.id="keyboardInputView",e.insertBefore(t,null);var i=document.querySelector(".mdl-textfield"),r=document.querySelector(".mdl-button");componentHandler.upgradeElement(i),componentHandler.upgradeElement(r);var c=document.getElementById("keyboardInputView");setTimeout((function(){return c.classList.add("show")}),500);var s=document.querySelector(".content .ingredientsCount"),a=document.querySelector(".card__list"),d=[],l=document.querySelector("#mainWrapper .fridge"),u=document.querySelector("#keyboardInputView .letsCookButton");r.addEventListener("click",(function(){return m()})),u.addEventListener("click",(function(){return v()}));var m=function(){var e=i.firstElementChild.value;if(""!==e&&d.length<=5){d.push(e),s.innerHTML="<b>".concat(d.length,"</b> / 6"),d.length&&u.classList.remove("hide");var t='\n                <span class="mdl-chip__text">'.concat(e,'</span>\n                <button type="button" class="mdl-chip__action"><i class="material-icons">cancel</i></button>\n            '),n=o("span",t,["mdl-chip mdl-chip--deletable"]);n.lastElementChild.addEventListener("click",(function(e){return r(e)})),a.appendChild(n),i.firstElementChild.value="",componentHandler.upgradeElement(n),6===d.length&&s.classList.add("pulsing")}else i.firstElementChild.value="";var r=function(e){var t=e.target.parentElement.parentElement,n=d.indexOf(e.target.textContent);d.splice(n,1),a.removeChild(t),0!==d.length||u.classList.contains("hide")||u.classList.add("hide");var i=document.querySelector(".content .ingredientsCount");i.innerHTML="<b>".concat(d.length,"</b> / 6"),d.length<6&&i.classList.contains("pulsing")&&i.classList.remove("pulsing")}},v=function(){setTimeout((function(){l.classList.add("hide"),e.classList.add("hide")}),400),setTimeout((function(){n(2)(d),l.remove(),e.remove()}),700)}};e.exports=function(){var e=o("section",' <div class="fridge hide"></div>\n            <div class="content">\n                <div class="selectMethod hide">\n                    <div><h3>Tell us what you have in fridge</h3><br/>\n                    <h4>Then we will provide you with tasty recipe :)</h4></div>\n                    <div class="methods">\n                        <button class="keyboard-input">\n                            <i class="material-icons">keyboard</i>\n                        </button>\n                    </div>\n                </div>\n            </div>');e.id="fridgeView",r.insertBefore(e,null),i=document.querySelector(".selectMethod");var t=document.querySelector("#fridgeView .methods");if(t.firstElementChild.addEventListener("click",(function(){s(),d()})),c){var n=o("button",'<i class="material-icons">mic</i>');t.insertBefore(n,null);var l=t.lastElementChild;l.classList.add("microphone-input"),l.addEventListener("click",(function(){s(),a()}))}var u=document.querySelector("#mainWrapper .fridge");setTimeout((function(){u.classList.remove("hide"),i.classList.remove("hide")}),300)}},function(e,t,n){var i=n(0),o="a1a5bdfa7e2640be98b35a595487d3da",c=document.getElementById("mainWrapper"),s=function(){document.querySelector(".loading");var e=document.getElementById("recipeView");e.classList.add("hide"),setTimeout((function(){e.remove()}),500),setTimeout((function(){n(1)()}),700)},a=function(e){console.log(e);var t=!0,n=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(t=(c=s.next()).done);t=!0)r=c.value,fetch("https://api.spoonacular.com/recipes/".concat(r.id,"/information?includeNutrition=false&apiKey=").concat(o)).then((function(e){return e.json()})).catch(new Error("Could not get recipe info")).then((function(e){d(e)})).catch((function(e){return console.log(e)}))}catch(e){n=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw i}}},d=function(e){fetch("https://api.spoonacular.com/recipes/".concat(e.id,"/analyzedInstructions?stepBreakdown=false&apiKey=").concat(o)).then((function(e){return e.json()})).catch(new Error("Could not get steps info")).then((function(t){console.log(t),l(e,t)})).catch((function(e){return console.log(e)}))},l=function(e,t){var n=document.querySelector(".card__recipe-list"),i=document.createElement("li"),o=document.createElement("div");i.appendChild(o);var r=document.createElement("h1");r.textContent=e.title,o.appendChild(r);var c=document.createElement("div");o.appendChild(c);var s=document.createElement("img");s.src=e.image,c.appendChild(s);var a=document.createElement("section");a.innerHTML="<h2>Ingredients:</h2>",o.appendChild(a);var d=document.createElement("ul");d.setAttribute("class","ingredientsList"),a.appendChild(d);var l=!0,u=!1,m=void 0;try{for(var v,p=e.extendedIngredients[Symbol.iterator]();!(l=(v=p.next()).done);l=!0){var f=v.value,h=document.createElement("li");h.appendChild(document.createTextNode(f.name)),d.appendChild(h)}}catch(e){u=!0,m=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw m}}var g=document.createElement("section");g.innerHTML="<h2>Steps:</h2>",o.appendChild(g);var b=document.createElement("ul");b.setAttribute("class","stepList"),g.appendChild(b);var y=!0,L=!1,E=void 0;try{for(var _,S=t[Symbol.iterator]();!(y=(_=S.next()).done);y=!0){var C=_.value,k=!0,w=!1,T=void 0;try{for(var B,x=C.steps[Symbol.iterator]();!(k=(B=x.next()).done);k=!0){var q=B.value,I=document.createElement("li");I.appendChild(document.createTextNode(q.step)),b.appendChild(I)}}catch(e){w=!0,T=e}finally{try{k||null==x.return||x.return()}finally{if(w)throw T}}}}catch(e){L=!0,E=e}finally{try{y||null==S.return||S.return()}finally{if(L)throw E}}n.appendChild(i)};e.exports=function(e){!function(){c.firstElementChild.remove();var e=i("section",'\n        <div>\n            <div class="kitchen"></div>\n            <div><h2>Let\'s see what you can cook :)</h2></div>\n            <div><button class="backToFridge ctaBig">Back to ingredients screen</button></div>\n        </div>\n        </div>\n        <div class="loading">\n            <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n        </div>\n        <section class="card__recipe">\n            \n            <ol class="card__recipe-list">\n\n            </ol>\n        </section>\n            ');e.id="recipeView",e.classList.add("hide"),c.insertBefore(e,null),document.querySelector(".backToFridge").addEventListener("click",(function(){return s()}))}();var t=document.querySelector("#recipeView"),n=document.querySelector(".loading");setTimeout((function(){return t.classList.remove("hide")}),500),ingr=e.toString().replace(new RegExp(" ","g"),","),fetch("https://api.spoonacular.com/recipes/findByIngredients?number=5&ranking=1&ignorePantry=\n    false&ingredients=".concat(ingr,"&apiKey=").concat(o)).then((function(e){return e.json()})).then((function(e){setTimeout((function(){n.classList.add("hide")}),1e3),setTimeout((function(){n.remove()}),2e3),setTimeout((function(){a(e)}),2200)})).catch((function(e){return console.log(e)}))}},function(e,t,n){"use strict";n.r(t);n(4);n(5),n(1)},function(e,t,n){},function(e,t,n){var i=n(0),o=n(1),r=document.querySelector("#loaderLogo button"),c=document.getElementById("loaderLogo"),s=document.getElementById("ctaLocation"),a=document.querySelector("#wallBg"),d=document.querySelector("#kitchenFurniture"),l=document.querySelectorAll("#kitchenFurniture > div"),u=function(){a.classList.add("hide"),d.classList.add("hide"),s.classList.add("hide"),setTimeout((function(){a.remove(),d.remove(),s.remove(),o()}),500)};r.addEventListener("click",(function(){var e;c.classList.add("hide"),setTimeout((function(){return c.remove()}),300),setTimeout((function(){l.forEach((function(e){e.classList.contains("fridge")?e.addEventListener("click",(function(){return u()})):e.classList.add("grayscaled")}));var t=i("div",'<button class="ctaBig hide"><h3>Find what to eat :)</h3></button>');t.addEventListener("click",(function(){return u()})),s.insertBefore(t,null),e=document.querySelector("#ctaLocation button")}),500),setTimeout((function(){return e.classList.remove("hide")}),800)}))}]);